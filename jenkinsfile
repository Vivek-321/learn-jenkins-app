// pipeline{
//     agent any 
//     stages{
//         stage("Build"){
//             steps {
//                 bat '''
//                 dir -/a
//                 node --version
//                 npm --version
//                 npm ci
//                 npm run build
//                 dir -/a
//                 '''
//             }
//         }
//     }
// }


pipeline {
    agent any

    stages {
        stage("Build") {
            steps {
                bat """
                echo Listing directory contents before build:
                dir /a
                
                echo Checking Node and NPM versions:
                node --version
                npm --version
                """
            }
        }

        stage("Test") {
            agent any

            steps {
                bat '''
                    #test -f build/index.html
                    npm test
                '''
            }
        }
    }
}
